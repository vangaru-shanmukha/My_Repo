{"ast":null,"code":"var _jsxFileName = \"/home/shanmukha/My_Repo/Restaurant/src/Components/Body/Tables/Table/Table.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Table extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.allowDrop = event => {\n      event.preventDefault();\n    };\n\n    this.drop = event => {\n      event.preventDefault();\n      var tableId = event.target.id;\n      var menuId = event.dataTransfer.getData(\"menu\");\n      const tables = [];\n      this.props.tables.map(table => tables.push(Object.assign({}, table)));\n      const items = [];\n      this.props.tables.map(table => items.push(Object.assign({}, table.items)));\n\n      for (var i = 0; i < tables.length; i++) {\n        tables[i].items = items[i];\n      }\n\n      if (tableId) {\n        tables[tableId].cost += this.props.menus[menuId].cost;\n\n        if (tables[tableId].items[this.props.menus[menuId].name] === undefined) {\n          tables[tableId].items[this.props.menus[menuId].name] = 1;\n        } else {\n          tables[tableId].items[this.props.menus[menuId].name] += 1;\n        }\n\n        tables[tableId].totalItems += 1;\n        this.props.addItemHandler(tables);\n      } else {\n        alert(\"Please drag properly\");\n      }\n    };\n  }\n\n  render() {\n    if (this.props.table.show) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        id: this.props.table.id,\n        onDrop: event => this.drop(event),\n        onDragOver: event => this.allowDrop(event),\n        onClick: () => this.props.clicked(this.props.table.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }\n      }, this.props.table.name), \"Rs.\", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 28\n        }\n      }, this.props.table.cost), \"| Total items: \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 79\n        }\n      }, this.props.table.totalItems)));\n    } else {\n      return null;\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    tables: state.tables,\n    menus: state.menus\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addItemHandler: tables => dispatch({\n      type: \"ADD_ITEM\",\n      tables: tables\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);","map":{"version":3,"sources":["/home/shanmukha/My_Repo/Restaurant/src/Components/Body/Tables/Table/Table.js"],"names":["React","Component","connect","Table","allowDrop","event","preventDefault","drop","tableId","target","id","menuId","dataTransfer","getData","tables","props","map","table","push","Object","assign","items","i","length","cost","menus","name","undefined","totalItems","addItemHandler","alert","render","show","clicked","mapStateToProps","state","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\n\nclass Table extends Component {\n\n    allowDrop = (event) => {\n        event.preventDefault();\n    }\n\n    drop = (event) => {\n        event.preventDefault();\n        var tableId = event.target.id;\n        var menuId = event.dataTransfer.getData(\"menu\");\n        const tables = [];\n        this.props.tables.map(table => (\n            tables.push(Object.assign({}, table))\n        ));\n        const items = [];\n        this.props.tables.map(table => (\n            items.push(Object.assign({}, table.items))\n        ))\n        for (var i = 0; i < tables.length; i++) {\n            tables[i].items = items[i];\n        }\n        if (tableId) {\n            tables[tableId].cost += this.props.menus[menuId].cost;\n            if(tables[tableId].items[this.props.menus[menuId].name] === undefined) {\n                tables[tableId].items[this.props.menus[menuId].name] = 1;\n            }\n            else {\n                tables[tableId].items[this.props.menus[menuId].name] += 1;\n            }\n            tables[tableId].totalItems += 1;\n            this.props.addItemHandler(tables);\n        }\n        else {\n            alert(\"Please drag properly\");\n        }\n\n    }\n\n    render() {\n        if (this.props.table.show) {\n            return (\n                <li id={this.props.table.id} onDrop={(event) => this.drop(event)} onDragOver={(event) => this.allowDrop(event)} onClick={() => this.props.clicked(this.props.table.id)}>\n                    <div>\n                        <h3>{this.props.table.name}</h3>\n                        Rs.<span>{this.props.table.cost}</span>| Total items: <span>{this.props.table.totalItems}</span>\n                    </div>\n                </li>\n            );\n        }\n        else {\n            return null;\n        }\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        tables: state.tables,\n        menus: state.menus\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addItemHandler: (tables) => dispatch({\n            type: \"ADD_ITEM\",\n            tables: tables\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Table);"]},"metadata":{},"sourceType":"module"}